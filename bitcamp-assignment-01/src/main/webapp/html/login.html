<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>로그인</title>
<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
<style>

.wrap {
	display: flex;
	min-height: 100vh;
	flex-direction: column;
    align-items: center;
	justify-content: center;
}

.title{
    font-size: 100px;
    padding: 20px;
}
.main-content {
    flex: 1;
    padding-bottom: 50%;
}

.footer {
    flex: 2;
}

.row {
    padding: 10px 0px 0px 10px;
    margin: 0;
}
.group {
    text-align: center;
    height:100%;
    width:100%;
    display: flex;
    align-items: center;
    justify-content: center;
}
.bc_card_footer {
    text-align: left;
}
.license {
    text-align: right;
}
</style>
</head>
<body>
    <div class="wrap">
        <div class="title">BCM</div>
	    <div class="container">
		    <div class="main-content">
		        <div class="row group">
		            <!-- <div class="col-md-3"></div> -->
		            <form id="login-form" class="col-md-6 form-group">
		                <div class="row">
		                    <label for="eEmail" class="col-sm-4 col-4 col-form-label">Email</label>
		                    <input class="col-md-8 col-8 form-control" type="email" id="eEmail" name="email">
		                </div>
		                <div class="row">
		                    <label for="ePassword" class="col-sm-4 col-4 col-form-label">Password</label>
		                    <input class="col-md-8 col-8 form-control" type="password" id="ePassword" name="password">
		                </div>
		                <div class="row group">
			                <button class="col-md-12 btn btn-primary" id="login-btn" type="button">Log In</button>
		                </div>
		            </form>
		            <!-- <div class="col-md-3"></div> -->
		        </div>
		    </div>
		    <div class="footer row">
		        <div class="bc_card_footer col-md-8 col-8">개인명함관리</div> 
		        <div class="license col-md-4 col-4">ⓒ2018비트캠프</div>
		    </div>
	    </div>
    </div>
<script src="../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../node_modules/popper.js/dist/umd/popper.min.js"></script>
<script src="../js/jquery.bit.js"></script>
<script src="../js/common.js"></script>
<script>
//var serverApiAddr = "http://localhost:8080/bitcamp-assignment-01"
$('#login-btn').click(function(){
    console.log($(eEmail).val());
    $.post(serverApiAddr + '/app/member/login',
            {
                email: $(eEmail).val(),
                password: $(ePassword).val()
            },
            function(data) {
                if(data.status == 'success') {
                    //alert('된다');
                    location.href = `list.html?email=${data.email}`;
                }else {
                    alert('존재하지 않는 이메일이거나 암호가 일치하지 않습니다.');
                    console.log(data.error);
                    location.href = '#';
                }
            },
            'json');
});
</script>
</body>
</html>