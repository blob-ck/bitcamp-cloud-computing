<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트 06</title>
<style>
img {
    height:10%;
    width:10%;
}
</style>
</head>

<body>
<h1>DOM API 이벤트 처리 - 이벤트와 이벤트 리스너</h1>

<button onclick="var v = prompt('나이가?'); if(parseInt(v) < 19) alert('미성년입니다!!'); else alert('성인이네');">방법1</button><br>
<button onclick="f1()">방법2</button><br>
<button id="btn3">방법3</button><br>
<button id="btn4">방법4</button><br>

<script>
"use strict"

// 이벤트(event)
// => 사용자나 웹 브라우저에 의해 발생되는 특별한 상태를 말한다.
// => 예) 마우스 클릭, 키 누르기, 키 떼기, 윈도우 크기 변경하기 등 ......
//
// 이벤트 리스너(event listener)
// => 그러한 상태에 놓였을 때 특별한 작업을 수행하도록 호출되는 메서드를 말한다.
//
// 이벤트 처리
// => 특정 이벤트가 발생했을 때 호출되는 함수를 등록하는 것

// 방법1 - 비추
// => 태그에 이미 특정 이벤트와 관련하여 등록된 속성에 자바스크립트 코드를 넣기 
// => 이벤트 관련 속성의 이름은 onxxxx 이다.
// => 예) <button onclick="var v = prompt('나이가?'); if(parseInt(v) < 19) alert('미성년입니다!!'); else alert('성인이네');">성인?</button>
// ======> 이 방식은 HTML과 JS코드가 섞여있기 때문에 유지보수에 안좋다.
// => 특히 긴 자바스크립트 코드를 HTML속성에 작성하는 것은 가독성에도 안좋다.


// 방법2
// => 방법1과 마찬가지로 HTML코드에 자바스크립트 코드를 둔다.
// => 대부분의 코드는 함수 안에 정의 해 두고 함수 호출만 하는 코드만 둔다.
// => 하지만 이 방식도 자바스크립트 함수명을 직접 호출하고 있다.
function f1() {
    var v = prompt('나이가?');
    if(parseInt(v) < 19)
        alert('미성년입니다!!'); 
    else
        alert('성인이네');
}


// 방법3
// => 태그를 찾아 이벤트 리스너 이름으로 함수를 등록하기
// => 이벤트 리스너 이름? 태그의 onxxxx 속성 이름으로 저장한다.
// => 예) 마우스 클릭 이벤트 ==> onclick
// => 단점! 이 방식은 함수 한 개만 등록할 수 있다.
var e = document.querySelector("#btn3");
e.onclick = function(event) {
    console.log(event);
    var v = prompt('나이가?');
    if(parseInt(v) < 19)
        alert('미성년입니다!!'); 
    else
        alert('성인이네');
};




// 방법4
// => 이벤트 리스너(핸들러)를 여러개 등록할 때 이 방법을 사용한다.
// => 문법 : e.addEventListener("이벤트명", 함수);
var e = document.querySelector("#btn4");
e.addEventListener("click", function() {
    console.log("첫번째");
    var v = prompt('나이가?');
    if(parseInt(v) < 19)
        alert('미성년입니다!!'); 
    else
        alert('성인이네');
});

e.addEventListener("click", function() {alert("okok")});
e.addEventListener("click", function() {alert("nono")});

</script>

</body>
</html>