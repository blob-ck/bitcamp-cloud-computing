<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트 05</title>
</head>

<body>
<h1>웹브라우저 navigator > geolocation 위치정보</h1>
<h1>비동기 방식</h1>

<script>
"use strict"

// window.navigator.geolocation
// => 위치정보를 다루는 객체이다.
console.log(navigator);

//var my;
var pos = navigator.geolocation.getCurrentPosition((position) => {
    //비동기
    //일을 시켜놓고 결과를 가져오면 나머지 실행
    //한대의 컴퓨터에서 결과를 가져오는게 아니고 여러 대의 장비에서 결과를 취합하여 가져오기 때문에,
    //이 요청이 처리될 때까지 멈춰있는 동기 방식을 사용하면 너무나 비효율적이다.
    //111111 이 먼저 출력되고 222222가 출력되는걸 보면, 
    //비동기방식인 것을 알 수 있다.
    console.log("2222222");
    //비동기로 undefined 뜨게 밑에서 실행하지 말고 바로 여기서 결과를 받아오게 한다
	console.log(position.coords.latitude, position.coords.longitude);
    //my = position;
});

//동기방식이라면 222222가 먼저 출력되었어야 했다.
console.log("11111111");

//비동기 방식이므로, 위에서부터 순차적으로 실행된다 해도 이 로그가 출력될 당시엔 undefined상태이다.
//console.log(my.coords.latitude, my.coords.longitude);



// 비동기 프로그래밍의 유행
// => 시간이 오래 걸리는 작업을 수행하는 메서드인 경우 비동기 방식으로 값을 리턴하는 것이 좋다.
// => 동기식은 메서드 호출이 끝날 때까지 리턴하지 않기 때문에
//     시간이 오래걸리는 경우 다음 코드를 실행하지 못해 시스템이 멈춰있는 현상이 발생한다.

//이 비동기 방식이 유행하는 이유?
// => 시간이 오래 걸리는 작업이 많아졌다.
// => 왜? 예전과는 달리 한 컴퓨터에서 작업하는 것이 아니라 여러 대의 컴퓨터나 장비와 연계하여 작업을 처리하기 때문에
//    장비와 장비 사이의 작업을 처리하는데 작업의 지연 현상이 많아졌기 때문이다. 
// => 이런 이유로 비동기방식의 코딩이 많아졌고,
//    프로그래밍 언어 측면에서도 비동기 방식의 프로그래밍을 지원하기 쉽도록 문법이 강화되고 있다.
// ======> 그 결과로 "함수형 프로그래밍"이 유행하게 된 것이다.
// ===========> 파라미터로 함수를 전달하고 리턴값으로 함수를 리턴해야하기 때문이다.

// 함수를 파라미터로 전달하기 쉽게 
// ==> 자바스크립트는 Closure, 자바는  Lambda 라는 문법을 추가하였다. 


// ======================== 한 줄 요약 ======================== 
// ====================> 한 대 --> 여러 대

</script>

</body>
</html>